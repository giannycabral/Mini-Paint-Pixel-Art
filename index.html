<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎨 Mini Paint Pixel Art - Editor Profissional</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- CSS customizado -->
    <link rel="stylesheet" href="style.css">

    <!-- Font Awesome para ícones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Google Fonts Profissionais -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Configuração do Tailwind -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'primary': ['Inter', 'sans-serif'],
                        'mono': ['JetBrains Mono', 'monospace'],
                        'display': ['Outfit', 'sans-serif']
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s ease-out',
                        'slide-up': 'slideUp 0.4s ease-out',
                        'scale-in': 'scaleIn 0.3s ease-out',
                        'pulse-slow': 'pulse-slow 3s infinite',
                        'bounce-subtle': 'bounce-subtle 2s infinite'
                    }
                }
            }
        }
    </script>
</head>

<body
    class="bg-gradient-to-br from-purple-100 to-pink-100 dark:from-gray-900 dark:to-purple-900 text-purple-800 dark:text-purple-200 min-h-screen transition-all duration-500 overflow-hidden">

    <!-- Loading Overlay -->
    <div id="loading-overlay"
        class="fixed inset-0 bg-purple-100/80 dark:bg-gray-900/80 backdrop-blur-sm flex items-center justify-center z-50 transition-all duration-500">
        <div class="text-center animate-bounce-subtle">
            <div class="text-4xl mb-4">🎨</div>
            <h2 class="text-xl font-pixel text-purple-600 dark:text-purple-300 mb-4">Carregando Mini Paint</h2>
            <div class="flex justify-center gap-1">
                <div class="w-2 h-2 bg-purple-600 rounded-full animate-pulse-slow loading-dot-1"></div>
                <div class="w-2 h-2 bg-purple-600 rounded-full animate-pulse-slow loading-dot-2"></div>
                <div class="w-2 h-2 bg-purple-600 rounded-full animate-pulse-slow loading-dot-3"></div>
            </div>
        </div>
    </div>

    <!-- Header Superior -->
    <header
        class="h-16 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-b border-purple-200 dark:border-purple-700 flex items-center justify-between px-6 z-40">
        <div class="flex items-center gap-4">
            <h1 class="text-xl font-pixel bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                🎨 Mini Paint Pro
            </h1>
            <div class="hidden md:flex items-center gap-2 text-xs text-purple-500 dark:text-purple-400">
                <span class="px-2 py-1 bg-purple-100 dark:bg-purple-800 rounded-full">v3.0</span>
                <span>•</span>
                <span>Editor Profissional</span>
            </div>
        </div>

        <div class="flex items-center gap-3">
            <button id="theme-toggle"
                class="p-2 rounded-lg bg-purple-100 dark:bg-purple-800 hover:bg-purple-200 dark:hover:bg-purple-700 transition-all duration-300 tooltip"
                data-tooltip="Alternar tema (T)">
                🌙
            </button>
            <button id="help-toggle"
                class="p-2 rounded-lg bg-purple-100 dark:bg-purple-800 hover:bg-purple-200 dark:hover:bg-purple-700 transition-all duration-300 tooltip"
                data-tooltip="Ajuda" title="Ajuda">
                <i class="fas fa-question text-sm"></i>
            </button>
        </div>
    </header>

    <!-- Layout Principal com Painéis -->
    <main class="h-[calc(100vh-4rem)] flex flex-col md:flex-row overflow-hidden">

        <!-- Controles Mobile - Visível apenas em telas pequenas -->
        <div
            class="md:hidden bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-b border-purple-200 dark:border-purple-700 p-2">
            <div class="flex justify-between items-center">
                <button id="toggle-colors" class="p-2 bg-purple-100 dark:bg-purple-800 rounded-lg text-sm">
                    <i class="fas fa-palette"></i> Cores
                </button>
                <button id="toggle-tools" class="p-2 bg-purple-100 dark:bg-purple-800 rounded-lg text-sm">
                    <i class="fas fa-tools"></i> Ferramentas
                </button>
                <button id="toggle-effects" class="p-2 bg-purple-100 dark:bg-purple-800 rounded-lg text-sm">
                    <i class="fas fa-magic"></i> Efeitos
                </button>
            </div>
        </div>

        <!-- Painel Esquerdo - Cores e Histórico -->
        <aside id="colors-panel"
            class="w-full md:w-80 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-r border-purple-200 dark:border-purple-700 overflow-y-auto hidden md:block"
            aria-label="Painel de cores e histórico">
            <div class="p-4 space-y-6">

                <!-- Seletor de Cor Customizado -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-palette"></i> Cor Personalizada
                    </h3>
                    <div class="flex items-center gap-3">
                        <input type="color" id="custom-color-picker"
                            class="w-12 h-12 rounded-lg border-2 border-purple-300 cursor-pointer" value="#ff6b9d"
                            title="Seletor de cor personalizada">
                        <div class="flex-1">
                            <input type="text" id="hex-input" placeholder="#ff6b9d"
                                class="w-full px-3 py-2 text-sm border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>
                        <button id="add-to-palette"
                            class="px-3 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors text-sm"
                            title="Adicionar à paleta">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>

                <!-- Histórico de Cores -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-history"></i> Cores Recentes
                    </h3>
                    <div id="color-history"
                        class="grid grid-cols-8 gap-2 min-h-[3rem] border-2 border-dashed border-purple-200 dark:border-purple-600 rounded-lg p-2">
                        <div class="col-span-8 text-center text-xs text-purple-400 py-2">
                            Use cores para vê-las aqui
                        </div>
                    </div>
                </div>

                <!-- Paleta de Cores por Categorias -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-swatches"></i> Paletas de Cores
                    </h3>

                    <!-- Tabs de Categorias -->
                    <div class="grid grid-cols-3 gap-1 text-xs">
                        <button class="category-tab active px-2 py-1 rounded text-center"
                            data-category="primary">Primárias</button>
                        <button class="category-tab px-2 py-1 rounded text-center"
                            data-category="pastels">Pastéis</button>
                        <button class="category-tab px-2 py-1 rounded text-center" data-category="dark">Escuros</button>
                        <button class="category-tab px-2 py-1 rounded text-center" data-category="neon">Neons</button>
                        <button class="category-tab px-2 py-1 rounded text-center" data-category="earth">Terra</button>
                        <button class="category-tab px-2 py-1 rounded text-center"
                            data-category="grayscale">Cinzas</button>
                    </div>

                    <!-- Container das Cores -->
                    <div id="palette" class="grid grid-cols-8 gap-2 min-h-[8rem]">
                        <!-- Cores serão inseridas aqui -->
                    </div>
                </div>

                <!-- Cor Atual -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-eye-dropper"></i> Cor Atual
                    </h3>
                    <div class="flex items-center gap-3 p-3 bg-purple-50 dark:bg-purple-900 rounded-lg">
                        <div id="current-color-preview"
                            class="w-12 h-12 rounded-lg border-2 border-purple-300 bg-black"></div>
                        <div class="flex-1">
                            <div id="current-color-hex" class="font-mono text-sm">#000000</div>
                            <div id="current-color-rgb" class="text-xs text-purple-500">RGB(0, 0, 0)</div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Área Central - Canvas -->
        <div class="flex-1 flex flex-col overflow-visible">
            <!-- Barra de Ferramentas Superior -->
            <div
                class="h-16 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-purple-200 dark:border-purple-700 flex items-center justify-between px-6">
                <div class="flex items-center gap-6">
                    <div class="flex items-center gap-2">
                        <label class="text-sm font-medium text-purple-700 dark:text-purple-300">Tamanho:</label>
                        <select id="grid-size"
                            class="px-3 py-1 text-sm border border-purple-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                            title="Tamanho da grade">
                            <option value="16">16×16</option>
                            <option value="32" selected>32×32</option>
                            <option value="64">64×64</option>
                            <option value="128">128×128</option>
                        </select>
                    </div>

                    <div class="flex items-center gap-2">
                        <label class="text-sm font-medium text-purple-700 dark:text-purple-300">Zoom:</label>
                        <button id="zoom-out" class="px-2 py-1 text-xs bg-purple-100 dark:bg-purple-800 rounded"
                            title="Diminuir zoom">
                            <i class="fas fa-minus"></i>
                        </button>
                        <span id="zoom-level" class="text-sm font-mono w-12 text-center">100%</span>
                        <button id="zoom-in" class="px-2 py-1 text-xs bg-purple-100 dark:bg-purple-800 rounded"
                            title="Aumentar zoom">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>

                <div class="flex items-center gap-2">
                    <button id="undo-button" class="btn tooltip" data-tooltip="Desfazer (Ctrl+Z)" title="Desfazer">
                        <i class="fas fa-undo"></i>
                    </button>
                    <button id="redo-button" class="btn tooltip" data-tooltip="Refazer (Ctrl+Y)" title="Refazer">
                        <i class="fas fa-redo"></i>
                    </button>
                    <div class="w-px h-6 bg-purple-200 dark:bg-purple-600"></div>
                    <button id="clear-button" class="btn tooltip" data-tooltip="Limpar (C)">
                        <i class="fas fa-trash"></i> Limpar
                    </button>
                    <button id="describe-button" class="btn tooltip" data-tooltip="Descrever Arte (D)">
                        <i class="fas fa-robot"></i> IA
                    </button>
                    <div class="w-px h-6 bg-purple-200 dark:bg-purple-600"></div>
                    <button id="export-button" class="btn tooltip" data-tooltip="Exportar PNG (E)">
                        <i class="fas fa-download"></i> Exportar
                    </button>
                </div>
            </div>

            <!-- Container do Canvas -->
            <div
                class="flex-1 overflow-auto bg-gradient-to-br from-purple-50 to-pink-50 dark:from-gray-900 dark:to-purple-900 flex items-center justify-center p-3 md:p-6">
                <div id="canvas-container"
                    class="bg-white rounded-xl shadow-2xl p-3 md:p-6 transition-transform w-full max-w-full">
                    <div id="grid-container"
                        class="grid aspect-square bg-white border border-purple-200 rounded-lg overflow-hidden mx-auto grid-responsive">
                        <!-- Pixels serão inseridos aqui -->
                    </div>
                </div>
            </div>

            <!-- Área de Descrição -->
            <div id="description-container"
                class="h-20 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-t border-purple-200 dark:border-purple-700 flex items-center px-6 text-sm text-purple-700 dark:text-purple-300">
                <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                Desenhe sua pixel art e use a IA para descrevê-la! ✨
            </div>
        </div>

        <!-- Painel Direito - Ferramentas -->
        <!-- Painel Direito - Ferramentas e Animação -->
        <aside id="tools-panel"
            class="w-72 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-l border-purple-200 dark:border-purple-700 overflow-y-auto"
            aria-label="Painel de ferramentas e animação">
            <div class="p-4 space-y-6">

                <!-- Ferramentas de Pincel -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-paint-brush"></i> Pincéis
                    </h3>
                    <div class="grid grid-cols-3 gap-2">
                        <button id="brush-1x1" class="tool-btn active flex flex-col items-center gap-1 p-3"
                            data-tool="brush" data-size="1">
                            <div class="w-1 h-1 bg-current rounded-sm"></div>
                            <span class="text-xs">1×1</span>
                        </button>
                        <button id="brush-2x2" class="tool-btn flex flex-col items-center gap-1 p-3" data-tool="brush"
                            data-size="2">
                            <div class="w-2 h-2 bg-current rounded-sm"></div>
                            <span class="text-xs">2×2</span>
                        </button>
                        <button id="brush-3x3" class="tool-btn flex flex-col items-center gap-1 p-3" data-tool="brush"
                            data-size="3">
                            <div class="w-3 h-3 bg-current rounded-sm"></div>
                            <span class="text-xs">3×3</span>
                        </button>
                    </div>
                </div>

                <!-- Ferramentas Especiais -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-tools"></i> Ferramentas
                    </h3>
                    <div class="space-y-2">
                        <button id="eraser-button" class="tool-btn w-full justify-start gap-3 p-3" data-tool="eraser">
                            <i class="fas fa-eraser"></i>
                            <span>Borracha (R)</span>
                        </button>
                        <button id="bucket-fill" class="tool-btn w-full justify-start gap-3 p-3" data-tool="bucket">
                            <i class="fas fa-fill-drip"></i>
                            <span>Balde de Tinta (B)</span>
                        </button>
                        <button id="eyedropper" class="tool-btn w-full justify-start gap-3 p-3" data-tool="eyedropper">
                            <i class="fas fa-eye-dropper"></i>
                            <span>Conta-gotas (I)</span>
                        </button>
                        <button id="line-tool" class="tool-btn w-full justify-start gap-3 p-3" data-tool="line">
                            <i class="fas fa-minus"></i>
                            <span>Linha Reta (L)</span>
                        </button>
                        <button id="spray-tool" class="tool-btn w-full justify-start gap-3 p-3" data-tool="spray">
                            <i class="fas fa-spray-can"></i>
                            <span>Spray (S)</span>
                        </button>
                    </div>
                </div>

                <!-- Formas Geométricas -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-shapes"></i> Formas
                    </h3>
                    <div class="grid grid-cols-2 gap-2">
                        <button id="rectangle-tool" class="tool-btn flex flex-col items-center gap-1 p-3"
                            data-tool="rectangle">
                            <i class="fas fa-square text-lg"></i>
                            <span class="text-xs">Retângulo</span>
                        </button>
                        <button id="circle-tool" class="tool-btn flex flex-col items-center gap-1 p-3"
                            data-tool="circle">
                            <i class="fas fa-circle text-lg"></i>
                            <span class="text-xs">Círculo</span>
                        </button>
                        <button id="triangle-tool" class="tool-btn flex flex-col items-center gap-1 p-3"
                            data-tool="triangle">
                            <i class="fas fa-play text-lg"></i>
                            <span class="text-xs">Triângulo</span>
                        </button>
                        <button id="diamond-tool" class="tool-btn flex flex-col items-center gap-1 p-3"
                            data-tool="diamond">
                            <i class="fas fa-gem text-lg"></i>
                            <span class="text-xs">Losango</span>
                        </button>
                        <button id="star-tool" class="tool-btn flex flex-col items-center gap-1 p-3" data-tool="star">
                            <i class="fas fa-star text-lg"></i>
                            <span class="text-xs">Estrela</span>
                        </button>
                        <button id="hexagon-tool" class="tool-btn flex flex-col items-center gap-1 p-3"
                            data-tool="hexagon">
                            <i class="fas fa-stop text-lg"></i>
                            <span class="text-xs">Hexágono</span>
                        </button>
                    </div>

                    <!-- Opções de Forma -->
                    <div class="space-y-2 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg">
                        <div class="flex items-center justify-between">
                            <label class="text-xs font-medium">Preenchimento:</label>
                            <div class="flex gap-2">
                                <label class="flex items-center gap-1 text-xs">
                                    <input type="radio" name="fill-mode" value="outline" checked
                                        class="text-purple-500">
                                    Contorno
                                </label>
                                <label class="flex items-center gap-1 text-xs">
                                    <input type="radio" name="fill-mode" value="filled" class="text-purple-500">
                                    Preenchido
                                </label>
                            </div>
                        </div>
                        <div class="flex items-center justify-between">
                            <label for="shape-size" class="text-xs font-medium">Tamanho:</label>
                            <div class="flex items-center gap-2">
                                <input type="range" id="shape-size" min="3" max="20" value="8" class="w-16">
                                <span id="shape-size-value" class="text-xs font-mono">8</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Filtros e Efeitos -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-magic"></i> Filtros & Efeitos
                    </h3>

                    <!-- Tabs de Efeitos -->
                    <div class="grid grid-cols-2 gap-1 text-xs">
                        <button class="filter-tab active px-2 py-1 rounded text-center"
                            data-category="filters">Filtros</button>
                        <button class="filter-tab px-2 py-1 rounded text-center"
                            data-category="effects">Efeitos</button>
                    </div>

                    <!-- Filtros Básicos -->
                    <div id="filters-panel" class="space-y-2">
                        <div class="grid grid-cols-2 gap-2">
                            <button id="blur-filter" class="filter-btn flex flex-col items-center gap-1 p-2"
                                data-filter="blur">
                                <i class="fas fa-circle text-sm opacity-50"></i>
                                <span class="text-xs">Blur</span>
                            </button>
                            <button id="sharpen-filter" class="filter-btn flex flex-col items-center gap-1 p-2"
                                data-filter="sharpen">
                                <i class="fas fa-circle text-sm"></i>
                                <span class="text-xs">Sharpen</span>
                            </button>
                            <button id="emboss-filter" class="filter-btn flex flex-col items-center gap-1 p-2"
                                data-filter="emboss">
                                <i class="fas fa-mountain text-sm"></i>
                                <span class="text-xs">Emboss</span>
                            </button>
                            <button id="edge-filter" class="filter-btn flex flex-col items-center gap-1 p-2"
                                data-filter="edge">
                                <i class="fas fa-border-style text-sm"></i>
                                <span class="text-xs">Bordas</span>
                            </button>
                            <button id="sepia-filter" class="filter-btn flex flex-col items-center gap-1 p-2"
                                data-filter="sepia">
                                <i class="fas fa-image text-sm text-yellow-700"></i>
                                <span class="text-xs">Sépia</span>
                            </button>
                            <button id="vintage-filter" class="filter-btn flex flex-col items-center gap-1 p-2"
                                data-filter="vintage">
                                <i class="fas fa-camera-retro text-sm"></i>
                                <span class="text-xs">Vintage</span>
                            </button>
                        </div>
                    </div>

                    <!-- Efeitos Especiais -->
                    <div id="effects-panel" class="space-y-2 hidden">
                        <div class="grid grid-cols-2 gap-2">
                            <button id="glow-effect" class="effect-btn flex flex-col items-center gap-1 p-2"
                                data-effect="glow">
                                <i class="fas fa-sun text-sm text-yellow-400"></i>
                                <span class="text-xs">Brilho</span>
                            </button>
                            <button id="shadow-effect" class="effect-btn flex flex-col items-center gap-1 p-2"
                                data-effect="shadow">
                                <i class="fas fa-circle text-sm text-gray-600"></i>
                                <span class="text-xs">Sombra</span>
                            </button>
                            <button id="noise-effect" class="effect-btn flex flex-col items-center gap-1 p-2"
                                data-effect="noise">
                                <i class="fas fa-tv text-sm"></i>
                                <span class="text-xs">Ruído</span>
                            </button>
                            <button id="distort-effect" class="effect-btn flex flex-col items-center gap-1 p-2"
                                data-effect="distort">
                                <i class="fas fa-wave-square text-sm"></i>
                                <span class="text-xs">Distorção</span>
                            </button>
                            <button id="gradient-effect" class="effect-btn flex flex-col items-center gap-1 p-2"
                                data-effect="gradient">
                                <i class="fas fa-palette text-sm"></i>
                                <span class="text-xs">Gradiente</span>
                            </button>
                            <button id="invert-effect" class="effect-btn flex flex-col items-center gap-1 p-2"
                                data-effect="invert">
                                <i class="fas fa-adjust text-sm"></i>
                                <span class="text-xs">Inverter</span>
                            </button>
                        </div>
                    </div>

                    <!-- Controles de Intensidade -->
                    <div class="space-y-2 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg">
                        <div class="flex items-center justify-between">
                            <label for="effect-intensity" class="text-xs font-medium">Intensidade:</label>
                            <div class="flex items-center gap-2">
                                <input type="range" id="effect-intensity" min="0" max="100" value="50" class="w-16">
                                <span id="effect-intensity-value" class="text-xs font-mono">50%</span>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <button id="preview-effect"
                                class="flex-1 px-2 py-1 text-xs bg-purple-500 text-white rounded hover:bg-purple-600">
                                Preview
                            </button>
                            <button id="apply-effect"
                                class="flex-1 px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600">
                                Aplicar
                            </button>
                            <button id="reset-effect"
                                class="flex-1 px-2 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600">
                                Resetar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Sistema de Camadas -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-layer-group"></i> Camadas
                    </h3>

                    <!-- Controles de Camadas -->
                    <div class="flex gap-2">
                        <button id="add-layer"
                            class="flex-1 px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600"
                            title="Adicionar Camada">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button id="duplicate-layer"
                            class="flex-1 px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600"
                            title="Duplicar Camada">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button id="delete-layer"
                            class="flex-1 px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600"
                            title="Excluir Camada">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>

                    <!-- Lista de Camadas -->
                    <div id="layers-list" class="space-y-2 max-h-32 overflow-y-auto">
                        <div class="layer-item active p-2 bg-purple-50 dark:bg-purple-900/20 rounded border"
                            data-layer="0">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-2">
                                    <button class="layer-visibility text-purple-600" title="Mostrar/Ocultar">
                                        <i class="fas fa-eye text-xs"></i>
                                    </button>
                                    <span class="layer-name text-xs font-medium">Camada 1</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <select class="layer-blend text-xs border rounded px-1" title="Modo de Mesclagem">
                                        <option value="normal">Normal</option>
                                        <option value="multiply">Multiplicar</option>
                                        <option value="screen">Tela</option>
                                        <option value="overlay">Sobrepor</option>
                                        <option value="soft-light">Luz Suave</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-2">
                                <div class="flex items-center gap-2">
                                    <label class="text-xs">Opacidade:</label>
                                    <input type="range" class="layer-opacity flex-1" min="0" max="100" value="100"
                                        title="Opacidade da Camada">
                                    <span class="layer-opacity-value text-xs font-mono">100%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Configurações da Ferramenta -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-cog"></i> Configurações
                    </h3>

                    <!-- Configurações do Spray -->
                    <div id="spray-settings" class="space-y-3 hidden">
                        <div>
                            <label class="flex items-center justify-between text-xs mb-1">
                                <span>Intensidade:</span>
                                <span id="spray-intensity-value">5</span>
                            </label>
                            <input type="range" id="spray-intensity" min="1" max="10" value="5" class="w-full"
                                title="Intensidade do spray">
                        </div>
                        <div>
                            <label class="flex items-center justify-between text-xs mb-1">
                                <span>Raio:</span>
                                <span id="spray-radius-value">2</span>
                            </label>
                            <input type="range" id="spray-radius" min="1" max="5" value="2" class="w-full"
                                title="Raio do spray">
                        </div>
                    </div>

                    <!-- Configurações Gerais -->
                    <div class="space-y-2">
                        <label class="flex items-center gap-2 text-sm">
                            <input type="checkbox" id="grid-lines" checked class="rounded text-purple-600">
                            <span>Mostrar Grade</span>
                        </label>
                        <label class="flex items-center gap-2 text-sm">
                            <input type="checkbox" id="pixel-perfect" checked class="rounded text-purple-600">
                            <span>Modo Pixel Perfect</span>
                        </label>
                    </div>
                </div>

                <!-- Informações da Ferramenta -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-info-circle"></i> Ferramenta Atual
                    </h3>
                    <div id="tool-info" class="p-3 bg-purple-50 dark:bg-purple-900 rounded-lg text-xs">
                        <div class="font-medium">Pincel 1×1</div>
                        <div class="text-purple-500 dark:text-purple-400 mt-1">
                            Clique e arraste para desenhar pixels individuais
                        </div>
                    </div>
                </div>

                <!-- Sistema de Animação -->
                <div class="space-y-3">
                    <h3 class="text-sm font-bold text-purple-700 dark:text-purple-300 flex items-center gap-2">
                        <i class="fas fa-play-circle"></i> Animação
                    </h3>

                    <!-- Controles de Reprodução -->
                    <div class="space-y-2">
                        <div class="flex items-center gap-1">
                            <button id="prev-frame" class="btn-sm tooltip" data-tooltip="Frame Anterior"
                                title="Frame Anterior">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button id="play-pause" class="btn-sm tooltip" data-tooltip="Play/Pause" title="Play/Pause">
                                <i class="fas fa-play"></i>
                            </button>
                            <button id="next-frame" class="btn-sm tooltip" data-tooltip="Próximo Frame"
                                title="Próximo Frame">
                                <i class="fas fa-step-forward"></i>
                            </button>
                            <span id="frame-counter" class="text-xs font-mono ml-2">1/1</span>
                        </div>

                        <div class="flex items-center gap-2">
                            <label class="text-xs">FPS:</label>
                            <input type="range" id="fps-slider" min="1" max="30" value="12" class="flex-1"
                                title="Velocidade da animação (FPS)">
                            <span id="fps-value" class="text-xs font-mono w-8">12</span>
                        </div>

                        <div class="flex items-center gap-2">
                            <label class="flex items-center gap-1 text-xs">
                                <input type="checkbox" id="loop-animation" checked class="rounded">
                                <span>Loop</span>
                            </label>
                            <label class="flex items-center gap-1 text-xs">
                                <input type="checkbox" id="onion-skin" class="rounded">
                                <span>Onion Skin</span>
                            </label>
                        </div>
                    </div>

                    <!-- Timeline -->
                    <div class="space-y-2">
                        <div class="flex items-center justify-between">
                            <label class="text-xs font-medium">Timeline:</label>
                            <div class="flex gap-1">
                                <button id="add-frame" class="btn-xs tooltip" data-tooltip="Adicionar Frame"
                                    title="Adicionar Frame">
                                    <i class="fas fa-plus"></i>
                                </button>
                                <button id="duplicate-frame" class="btn-xs tooltip" data-tooltip="Duplicar Frame"
                                    title="Duplicar Frame">
                                    <i class="fas fa-copy"></i>
                                </button>
                                <button id="delete-frame" class="btn-xs tooltip" data-tooltip="Deletar Frame"
                                    title="Deletar Frame">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        <div id="timeline" class="flex gap-1 overflow-x-auto pb-1">
                            <!-- Frames serão adicionados aqui dinamicamente -->
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </main>

    <!-- Scripts -->
    <script src="script.js"></script>
</body>

</html>